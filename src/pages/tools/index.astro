---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const currentTitle = 'Инструменты | Мой Блог';
const currentDesc =
    'Коллекция полезных онлайн-инструментов, созданных для удобства и продуктивности.';

const toolFiles = await Astro.glob('./*.astro');
const tools = toolFiles
    .filter((file) => !file.url?.endsWith('/tools') && file.toolData)
    .map((file) => ({
        ...file.toolData,
        link: file.url,
    }))
    .sort((a, b) => (a.order || 99) - (b.order || 99));
---

<!doctype html>
<html lang="ru">
    <head>
        <BaseHead title={currentTitle} description={currentDesc} />
        <style>
            .tools-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 2rem;
                padding: 2rem 0;
            }

            .tool-card {
                background: rgba(255, 255, 255, 0.7);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(var(--accent), 0.1);
                border-radius: 24px;
                padding: 2rem;
                text-decoration: none;
                color: inherit;
                transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
                display: flex;
                flex-direction: column;
                gap: 1rem;
                position: relative;
                overflow: hidden;
                box-shadow:
                    0 10px 30px rgba(0, 0, 0, 0.03),
                    inset 0 0 1px 1px rgba(255, 255, 255, 0.8);
            }

            .tool-card:hover {
                transform: translateY(-8px);
                border-color: rgba(var(--accent), 0.3);
                box-shadow:
                    0 20px 40px rgba(var(--accent), 0.08),
                    inset 0 0 1px 1px rgba(255, 255, 255, 1);
            }

            .tool-card::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: radial-gradient(
                    circle at center,
                    rgba(var(--accent), 0.03) 0%,
                    transparent 70%
                );
                opacity: 0;
                transition: opacity 0.4s ease;
                pointer-events: none;
            }

            .tool-card:hover::before {
                opacity: 1;
            }

            .tool-emoji {
                font-size: 3rem;
                margin-bottom: 0.5rem;
                display: inline-block;
                transition: transform 0.4s
                    cubic-bezier(0.175, 0.885, 0.32, 1.275);
            }

            .tool-card:hover .tool-emoji {
                transform: scale(1.2) rotate(5deg);
            }

            .tool-title {
                font-family: 'Unbounded', sans-serif;
                font-size: 1.5rem;
                font-weight: 700;
                margin: 0;
                color: rgb(var(--black));
                display: flex;
                align-items: center;
                justify-content: space-between;
            }

            .tool-title::after {
                content: '→';
                opacity: 0;
                transform: translateX(-10px);
                transition: all 0.3s ease;
                font-family: serif;
            }

            .tool-card:hover .tool-title::after {
                opacity: 1;
                transform: translateX(0);
            }

            .tool-description {
                font-size: 0.95rem;
                line-height: 1.6;
                color: rgb(var(--gray-dark));
                margin: 0;
            }

            @media (max-width: 720px) {
                .tools-grid {
                    grid-template-columns: 1fr;
                    gap: 1.5rem;
                }

                .tool-card {
                    padding: 1.5rem;
                }
            }
        </style>
    </head>
    <body>
        <Header />
        <main>
            <section>
                <h1
                    style="font-family: 'Unbounded', sans-serif; margin-bottom: 0.5rem;">
                    Инструменты
                </h1>
                <p
                    style="color: var(--gray-dark); margin-bottom: 3rem; font-size: 1.1rem; opacity: 0.8;">
                    Небольшие утилиты, которые я сделал, чтобы сделать жизнь
                    чуточку проще.
                </p>
                <div class="tools-grid">
                    {
                        tools.map((tool) => (
                            <a href={tool.link} class="tool-card">
                                <span class="tool-emoji">{tool.emoji}</span>
                                <h2 class="tool-title">{tool.title}</h2>
                                <p class="tool-description">
                                    {tool.description}
                                </p>
                            </a>
                        ))
                    }
                </div>
            </section>
        </main>
        <Footer />
    </body>
</html>
